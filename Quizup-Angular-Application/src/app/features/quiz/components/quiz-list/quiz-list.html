<div class="quiz-tools-container">
  <div class="search-container">
    <input
      type="text"
      [(ngModel)]="searchString"
      (input)="handleSearchQuizzes()"
      placeholder="Search quizzes..."
      class="search-input"
    />
  </div>

  <div class="filters-container">
    <div class="date-filter">
      <label for="createdAtMin">Created At Min:</label>
      <input
        id="createdAtMin"
        type="date"
        [(ngModel)]="createdAtMin"
        (change)="handleSearchQuizzes()"
        class="date-input"
      />
    </div>
    <div class="date-filter">
      <label for="createdAtMax">Created At Max:</label>
      <input
        id="createdAtMax"
        type="date"
        [(ngModel)]="createdAtMax"
        (change)="handleSearchQuizzes()"
        class="date-input"
      />
    </div>
    <div class="date-filter">
      <label for="dueDateMin">Due Date Min:</label>
      <input
        id="dueDateMin"
        type="date"
        [(ngModel)]="dueDateMin"
        (change)="handleSearchQuizzes()"
        class="date-input"
      />
    </div>
    <div class="date-filter">
      <label for="dueDateMax">Due Date Max:</label>
      <input
        id="dueDateMax"
        type="date"
        [(ngModel)]="dueDateMax"
        (change)="handleSearchQuizzes()"
        class="date-input"
      />
    </div>
    <div class="checkbox-filter">
      <label>
        <input
          type="checkbox"
          [(ngModel)]="isActive"
          (change)="handleSearchQuizzes()"
        />
        Active Only
      </label>
    </div>
  </div>
</div>

<div *ngIf="loading && quizzes.length === 0" class="loading-container">
  <div class="spinner-border text-primary" role="status">
    <span class="visually-hidden">Loading...</span>
  </div>
  <p>Searching quizzes...</p>
</div>

<div *ngIf="!loading || quizzes.length > 0" class="quizzes-list">
  <app-quiz-card
    *ngFor="let item of quizzes; trackBy: item.id"
    [quiz]="item"
    class="quiz-card"
  ></app-quiz-card>
</div>

<div *ngIf="!loading && quizzes.length === 0 && searchString" class="no-results">
  <p>No quizzes found for "{{ searchString }}"</p>
</div>
